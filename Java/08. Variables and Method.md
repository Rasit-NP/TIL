# 변수와 메서드
## 선언 위치에 따른 변수의 종류
- 변수는 클래스 변수, 인스턴스 변수, 지역 변수의 세 종류가 있음
    - 변수의 종류를 결정짓는 중요한 요소는 **변수의 선언된 위치**
    - 변수의 종류를 파악하려면, 변수가 어느 영역에 선언되었는지를 확인하는 것이 중요
- 영역은 클래스 영역과 메서드 영역 두 가지뿐임
    - 메서드 영역에 선언된 변수는 **지역 변수**
    - 그 외에는 모두 멤버 변수
        - 멤버 변수 중 `static`이 붙은 것은 클래스 변수
        - 붙지 않은 것은 인스턴스 변수
        - 인스턴스 변수와 클래스 변수의 타입으로 `var`를 사용할 수 없음

### 인스턴스 변수(iv, instnace variable)
- 클래스 영역에 선언되며, 인스턴스를 생성할 때 만들어짐
- 각 인스턴스는 독립적인 저장 공간을 가지므로 서로 다른 값을 가질 수 있음
- 인스턴스마다 고유한 상태를 유지해야하는 속성의 경우, 인스턴스 변수로 선언

### 클래스 변수(cv, class variable)
- 인스턴스 변수 앞에 `static`을 붙인 것
- 인스턴스 변수와 달리, 클래스 변수는 모든 인스턴스가 저장 공간을 공유
- 같은 클래스의 모든 인스턴스들이 공통적인 값을 유지해야 하는 속성의 경우, 클래스 변수로 선언
- 클래스 변수는 인스턴스를 생성하지 않고도 바로 사용할 수 있음
- 클래스가 메모리에 로딩될 때 자동 생성되어 프로그램이 종료될 때까지 유지됨
- `public`을 앞에 붙이면 같은 프로그램 내에서 어디서나 접근할 수 있는 전역 변수의 성격을 가짐

### 지역 변수(lv, local variable)
- 메서드 내에 선언되어 메서드 내에서만 사용 가능
- 메서드가 호출되면 만들어졌다가 메서드가 종료되면 소멸
- `for` 문 또는 `while` 문의 블럭 내에 선언된 지역 변수는 지역 변수가 선언된 블럭 내에서만 사용 가능

## 메서드
- 특정 작업을 수행하는 문장들을 하나로 묶은 것
- 어떤 값을 입력하면 이 값으로 작업을 수행해서 결과를 반환

### 메서드를 사용하는 이유
- 메서드를 통해서 얻는 이점은 여러가지가 있지만, 대표적인 세 가지가 있음
    1. 높은 재사용성(reusability)
        - 한 번 만들어 놓은 메서드는 몇 번이고 호출할 수 있으며, 다른 프로그램에서도 사용 가능
    2. 중복된 코드의 제거
        - 반복되는 문장들을 묶어서 하나의 메서드로 작성해 놓으면, 코드의 중복이 제거됨
        - 변경사항이 발생했을 때 메서드만 수정하면 되므로 관리도 쉽고 오류 발생 가능성이 낮아짐
    3. 프로그램의 구조화
        ```java
        public static void main(String args[]){
            int[] numArr = new int[10];

            initArr(numArr);
            printArr(numArr);
            sortArr(numArr);
        }
        ```
        - 큰 규모의 프로그램에서는 문장들을 작업 단위로 나눠서 여러 개의 메서드에 담아 프로그램의 구조를 단순화시키는 것이 필수적
        - `main` 메서드는 프로그램의 전체 흐름이 한 눈에 들어올 정도로 단순하게 구조화

## 메서드의 선언과 구현
- 메서드는 크게 두 부분, **선언부**와 **구현부**로 이루어져 있음
- 메서드를 정의한다는 것은 선언부와 구현부를 작성하는 것을 의미함

### 메서드 선언부(method declaration)
- 메서드의 이름, 매개변수 선언, 반환 타입으로 구성되어 있음
- 메서드가 작업을 수행하기 위해 어떤 값들을 필요로 하고 작업의 결과로 어떤 타입을 반환하는지에 대한 정보를 제공
- 메서드의 선언부는 후에 변경할 일이 생기지 않게 신중히 작성해야 함
    - 메서드의 선언부가 변경되면, 그 메서드가 호출되는 모든 곳을 같이 변경해야 하기 때문

### 매개변수 선언(parameter declaration)
- 메서드가 작업을 수행하는데 필요한 값들을 제공받기 위한 것
- 필요한 값의 개수만큼 변수를 선언하며 `,`를 구분자로 사용
- 일반적인 변수 선언과 달리 두 변수의 타입이 같아도 변수의 타입을 생략할 수 없음

### 메서드의 이름(method name)
- 변수의 명명 규칙대로 작성하면 됨
- 특정 작업을 수행하므로 메서드의 이름은 동사인 경우가 많음
- 이름만으로도 메서드의 기능을 쉽게 알 수 있게 의미있는 이름을 짓도록 해야 함

### 반환 타입(return type)
- 메서드의 작업 수행 결과인 **반환값(return value)**의 타입
- 반환값이 없는 경우 반환 타입으로 `void`를 적어야 함

### 메서드 구현부(method body)
- 메서드의 선언부 다음에 오는 괄호(`{}`)를 **메서드의 구현부**라고 함
- 메서드를 호출했을 때 수행될 문장들을 넣음

### `return` 문
- 메서드의 반환타입이 `void`가 아닌 경우, 구현부 안에 `return 반환값;`이 반드시 포함되어 있어야 함
- 이 문장은 작업을 수행한 결과인 반환값을 호출한 메서드로 전달
    - 이 값의 타입은 반환 타입과 일치하거나 자동 형변환이 가능한 것이어야 함
- 매개변수가 여러개라 하더라도, `return` 문은 단 하나의 값만 반환할 수 있음

### 지역 변수(local variable)
- 메서드 내에 선언된 변수들은 그 메서드 내에서만 사용할 수 있음
    - 따라서 서로 다른 메서드라면 같은 이름의 변수를 선언해도 됨
- 이처럼 메서드 내에 선언된 변수를 **지역 변수**라고 함

## 메서드의 호출
### 인자(argument)와 매개변수(parameter)
- 메서드를 호출할 때 괄호(`()`) 안에 지정해준 값들을 **인자(argument)**라고 함
    - 인자의 개수와 순서는 호출된 메서드에 선언된 매개변수와 일치해야 함
- 인자는 메서드가 호출되면서 매개변수에 대입됨
    - 인자의 타입은 매개변수의 타입과 일치하거나 자동 형변환이 가능한 것이어야 함

### 메서드의 실행 흐름
- 같은 클래스 내의 메서드끼리 참조 변수를 사용하지 않고도 서로 호출이 가능
- `static` 메서드는 같은 클래스 내의 인스턴스 메서드를 호출할 수 없음
- 메서드가 호출되면 지금까지 실행 중이던 메서드는 실행을 잠시 멈추고 호출된 메서드의 문장들이 실행됨
- 메서드는 호출 시 넘겨받은 값으로 작업을 수행하고 그 결과를 반환하면서 종료됨

## `return` 문
- `return` 문은 현재 실행 중인 메서드를 종료하고 호출한 메서드로 되돌아감
- 반환 타입이 `void`인 경우, 컴파일러가 메서드의 마지막에 `return;`을 자동적으로 추가해 줌

## 기본형 매개변수와 참조형 매개변수
- 메서드를 호출할 때 매개변수로 지정한 값을 메서드의 매개 변수에 복사해서 넘겨줌
    - 매개 변수의 타입이 기본형일 때는 기본형 값이 복사됨
    - 매개 변수가 참조형이면 인스턴스의 주소가 복사됨
- 메서드의 매개변수를 참조형으로 선언하면 값이 저장된 곳의 주소를 알 수 있음
    - 값을 읽어오는 것은 물론 값을 변경하는 것도 가능

## 참조형 반환 타입
```java
static Date copy(Date d){
    Date tmp = new Date();
    tmp.x = d.x;

    return tmp;
}
```
- 매개 변수 뿐만 아니라 반환 타입도 참조형이 가능함
- 모든 참조형 타입의 값은 **객체의 주소**이므로 그저 정수값이 반환되는 것일 뿐 특별한 것이 없음
    - 반환 타입이 참조형이라는 것은 메서드가 **객체의 주소를 반환**한다는 것을 의미

## 재귀 호출(recursive call)
```java
void method(){
    method();
}
```
- 메서드의 내부에서 메서드 자신을 다시 호출하는 것
- 반복문은 같은 문장을 반복해서 수행하는 것이지만, 재귀 호출은 매개 변수 복사와 종료 후 복귀할 주소 저장 등이 추가로 필요하기 때문에 반복문보다 수행 시간이 더 오래 걸림
- 재귀 호출을 사용하는 이유는 간결하기 때문
    - 비효율적이더라도 알아보기 쉽게 작성하는 것이 논리적 오류가 발생할 확률도 줄어들고 수정하기도 좋음
- 메서드를 작성할 때, 어떤 값이 들어와도 에러 없이 처리되는 견고한 코드를 작성해야 함
    - 따라서 매개 변수의 유효성 검사가 중요

## 클래스 메서드와 인스턴스 메서드
- 변수와 마찬가지로, 메서드 앞에 `static`이 붙어 있으면 클래스 메서드이고 붙어있지 않으면 인스턴스 메서드임
- 클래스 메서드도 클래스 변수처럼 객체를 생성하지 않고 호출이 가능
- 클래스는 '데이터와 데이터에 관련된 메서드의 집합'
    - 같은 클래스 내에 있는 메서드와 멤버 변수는 밀접한 관계가 있음
- 인스턴스 메서드는 인스턴스 변수와 관련된 작업을 하는 메서드
    - 인스턴스 변수는 인스턴스를 생성해야만 만들어지므로 인스턴스 메서드 역시 인스턴스를 생성해야 호출 가능
- 메서드 중에서 인스턴스와 관계 없는 메서드를 **클래스 메서드**로 정의
    1. 멤버 변수 중 모든 인스턴스에서 공통으로 사용하는 것에 `static`을 붙임
        - 모든 인스턴스에서 같은 값이 유지되어야 하는 변수는 `static`을 붙여 클래스 변수로 정의
    2. 클래스 변수는 인스턴스를 생성하지 않아도 사용할 수 있음
        - `static`이 붙은 변수는 클래스가 메모리에 올라갈 때 자동으로 생성되기 때문
    3. 클래스 메서드는 인스턴스 변수를 사용할 수 없음
        - 클래스 메서드는 인스턴스 생성 없이 호출 가능하므로 클래스 메서드에서 인스턴스 변수의 사용을 금지함
        - 반대로, 인스턴스 변수나 인스턴스 메서드는 `static` 변수나 `static` 메서드를 사용하는 것이 항상 가능
    4. 메서드 내에서 인스턴스 변수를 사용하지 않는다면, `static`을 붙이는 것을 고려
        - 인스턴스 메서드는 실행 시 호출되어야 할 메서드를 찾는 과정이 추가적으로 필요하기 때문에 시간이 더 걸림