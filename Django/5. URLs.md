# Django URLs
### URL dispatcher
- URL 패턴을 정의하고 해당 패턴이 일치하는 요청을 처리할 view 함수를 연결
## Variable Routing
### 현재 URL 관리의 문제점
- 템플릿의 많은 부분이 중복됨
- URL의 일부만 변경되고 있음

### Variable Routing
```python
# urls.py
urlpatterns = [
    path('articles/<int:num>/', ...),
]
```
- URL 일부에 변수를 포함시키는 것
    - 변수는 view 함수의 인자로 전달할 수 있음
- 요청 URL의 `<int:num>`, `<str:name>`의 위치에 들어있는 값이 변수처럼 취급됨
- Path Converter
    - URL 변수의 타입을 지정
    - str, int 등 5가지 타입 지원

## App URL 정의
### App URL mapping
- 각 앱에 URL을 정의하는 것
- 프로젝트와 각 앱이 URL을 나누어 관리를 편하게 함

### include 함수
- 프로젝트 내부 앱들의 URL을 참조할 수 있도록 매핑하는 함수
- URL의 일치하는 부분까지 잘라내고, 남은 문자열 부분은 후속 처리를 위해 include된 URL로 전달
- 각 앱에서 urls.py 만들기
    ```python
    # articles/urls.py

    from django.urls import path
    from . import views

    urlpatterns = [
            path('index/', views.index),
    ]
    ```
- 프로젝트 urls.py에서 include()로 추가
    ```python
    # firstpjt/urls.py

    from django.urls import path, include

    urlpatterns = [
            path('articles/', include('articles.urls')),
    ]
    ```

# URL 이름 지정
## Naming URL Patterns
### URL 구조 변경에 따른 문제점
- 기존 'articles/' 주소가 'articles/index/'로 변경됨에 따라 해당 URL을 사용하는 모든 위치를 찾아가 변경해야 함
- URL에 이름을 지어주면 이름만 기억하면 됨

### Naming URL patterns
```python
# articles/urls.py

from django.urls import path
from . import views

urlpatterns = [
		path('index/', views.index, name='index'),
		path('dinner/', views.dinner, name='dinner'),
		path('search/', views.search, name='search'),
		path('throw/', views.throw, name='throw'),
		...,
]
```
```python
# pages/urls.py

from django.urls import path
from . import views

urlpatterns = [
		path('index/', views.index, name='index'),
]
```
```HTML
<!-- articles/index.html -->

<a href="{% url 'dinner' %}">dinner</a>
<a href="{% url 'search' %}">search</a>
<a href="{% url 'throw' %}">throw</a>
```
- URL에 이름을 지정하는 것
- path 함수에 name 인자를 키워드 인자로 정의해서 사용

## DTL URL tag
### DTL URL tag
```HTML
{% url 'url_name' arg1 arg2 %}
```
- 주어진 URL 패턴의 이름과 일치하는 절대 경로 주소를 반환
- URL 패턴에 변수가 포함되어 있으면 'url_name' 이후 추가
- DTL의 for 태그에서 사옹한 변수 이름 사용 가능

# URL 이름 공간
## app_name 속성
### `app_name` 속성 지정
```python
# articles/urls.py

app_name = 'articles'
urlpatterns = [
		path('index/', views.index, name='index')
]
```
```python
#pages/urls.py

app_name = 'pages'
urlpatterns = [
		path('index/', vies.index, name='index'),
]
```
```HTML
{% url 'app_name:paht_name' arg1 arg2 %}
```
- urls.py에 app_name 변수 설정
- app_name이 추가 또는 수정되면 url 태그에도 해당 내용이 반영되어야 함